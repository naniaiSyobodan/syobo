/* Copyright(C) 2015 Tohoho: MIT License */String.sprintf=function(t){for(var e=1,r="",g=0;g<t.length;g++){var a=t.substr(g,1);if("%"===a){var s="",h="";if(t.substr(g).match(/(%([-\+ #0]*)(\d*)(\.|)(\d*)(hh|h|l|ll|j|z|t|L|)(.))/)){var n=RegExp.$1?RegExp.$1:"",f=RegExp.$2?RegExp.$2:"",i=RegExp.$3?RegExp.$3:0,l=(RegExp.$4?RegExp.$4:"",RegExp.$5?RegExp.$5:-1),o=(RegExp.$6?RegExp.$6:"",RegExp.$7?RegExp.$7:"");if("c"===o)s=String.fromCharCode(arguments[e++]);else if("%"===o)s="%";else if("s"===o){if(s=arguments[e++].toString(),l>0&&(s=s.substr(0,l)),f.match(/0/)&&!f.match(/-/))for(var E=s.length;i>E;E++)s="0"+s}else if(o.match(/[diuox]/)){var m="",c=parseInt(arguments[e++]);if(c=isNaN(c)?0:c,"d"===o||"i"===o?(0>c?(m="-",c=-1*c):f.match(/\+/)&&(m="+"),s=c.toString()):"u"===o?s=(c>>>0).toString():"o"===o?s=(c>>>0).toString(8):("x"===o||"X"===o)&&(s=(c>>>0).toString(16)),f.match(/0/))for(var E=s.length;(m?i-1:i)>E;E++)s="0"+s;for(var E=s.length;(m?l-1:l)>E;E++)s="0"+s;s=m+s}else if(o.match(/[eEfFgG]/)){-1==l&&(l=6);var p=arguments[e++].toString();if(!p.match(/^([-\+]?)(\d*)(\.|)(\d*)([eE]?)([-+]?\d*)$/))continue;var m=RegExp.$1,u=RegExp.$2,x=RegExp.$4,$="",R=".",h=RegExp.$6?parseInt(RegExp.$6):0;if(o.match(/[eEgG]/)){if(u>=10){var v=u.length-1;x=u.substr(1)+x,u=u.substr(0,1),h+=v}else if(0==u){var v=x.match(/^(0+)/)?RegExp.$1.length+1:1;u=x.substr(v-1,1),x=x.substr(v),h-=v}}else if(o.match(/[fF]/)){for(;h>0;h--)""!=x?(u+=x.substr(0,1),x=x.substr(1)):u+="0";for(;0>h;h++)""!=u?(x=u.substr(-1,1)+x,u=u.substr(0,u.length-1)):x="0"+x;""==u&&(u="0")}$=x.substr(l),x=x.substr(0,l),$.match(/^(|[01234].*|50*)$/)||(""==x?u++:x++);for(var E=x.length;l>E;E++)x+="0";"-"!==m&&f.match(/\+/)&&(m="+"),o.match(/[eEgG]/)&&(h=h>=10?"+"+h:h>=0?"+0"+h:h>-10?"-0"+(-h).toString():h.toString()),""===x&&(R=""),o.match(/[eg]/)?h="e"+h:o.match(/[EG]/)?h="E"+h:o.match(/[fF]/)&&(h="");for(var E=(m+u+R+x+h).length;i>E;E++)f.match(/0/)&&(u="0"+u);s=m+u+R+x+h;for(var E=s.length;i>E;E++)f.match(/-/)?s+=" ":s=" "+s}else s=n;if(f.match(/-/))for(var E=s.length;i>E;E++)s+=" ";else for(var E=s.length;i>E;E++)s=" "+s;r+=s,g+=n.length-1}else r+=a}else r+=a}return r.toString()};